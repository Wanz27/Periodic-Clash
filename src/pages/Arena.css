/* arena.css - revised: title left, pause popup centered, boss card same visual as player cards */

/* page container */
.arena-root {
  padding: 24px 16px 80px;
  box-sizing: border-box;
  min-height: calc(100vh - 80px);
  display: flex;
  justify-content: center;
  align-items: flex-start;
  background: radial-gradient(ellipse at top left, rgba(3,28,66,0.35), transparent 30%), linear-gradient(180deg,#041232,#021026);
}

/* center column container */
.arena-container {
  width: 100%;
  max-width: 1100px;
  margin: 0 auto;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 22px;
  box-sizing: border-box;
  padding-top: 28px;
}

/* Pause button (top-right) */
.arena-pause-toggle {
  position: fixed;
  right: 28px;
  top: 92px;
  z-index: 1400;
  width: 56px;
  height: 56px;
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(12,22,44,0.85), rgba(8,14,30,0.7));
  display:flex; align-items:center; justify-content:center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
  border: 1px solid rgba(255,255,255,0.035);
  cursor:pointer;
}

/* Pause modal overlay (centered popup) */
.arena-pause-overlay {
  position: fixed;
  inset: 0;
  background: rgba(4,8,20,0.55);
  backdrop-filter: blur(4px);
  z-index: 2500;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 24px;
  box-sizing: border-box;
}
.arena-pause-card {
  width: 340px;
  max-width: calc(100% - 40px);
  background: linear-gradient(180deg,#06132b,#02102a);
  border-radius: 14px;
  padding: 22px;
  box-shadow: 0 18px 60px rgba(3,12,30,0.6);
  border: 1px solid rgba(255,255,255,0.03);
  display:flex;
  flex-direction:column;
  gap: 18px;
  align-items:stretch;
  text-align:left;
}
.pause-title {
  margin: 0;
  color: var(--muted-200);
  font-size: 1.2rem;
  font-weight: 800;
}
.arena-pause-actions { display:flex; gap:12px; justify-content:center; }
.arena-pause-actions .btn { min-width: 120px; }

/* Title block moved left to avoid pause button */
.arena-title-block {
  width: 100%;
  display: flex;
  justify-content: flex-start;
  align-items: flex-start;
  padding-left: 6px;
}
.arena-title {
  font-size: 2.2rem;
  margin: 0;
  color: var(--muted-200);
  text-align: left;
  line-height: 1;
}
.arena-sub {
  color: rgba(255,255,255,0.85);
  margin-top: 8px;
  font-size: 0.98rem;
  text-align: left;
}

/* CORE stack: boss -> vs -> players */
.arena-core {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 18px;
  align-items: center;
  box-sizing: border-box;
}

/* Boss row centered */
.boss-row { width: 100%; display:flex; justify-content:center; }

/* Boss card now uses same compact style as player cards */
.boss-as-player {
  flex: 0 0 360px;
  min-width: 320px;
  max-width: 420px;
  background: linear-gradient(180deg,#07183a,#06112a);
  border-radius: 12px;
  padding: 10px;
  box-shadow: 0 12px 36px rgba(0,0,0,0.45);
  border: 1px solid rgba(255,255,255,0.03);
  box-sizing: border-box;
  display:flex;
  flex-direction:column;
  gap:10px;
  align-items:stretch;
}

/* unified image wrapper used for boss and players */
.card-image-wrap,
.player-image {
  width: 100%;
  border-radius: 10px;
  overflow: hidden;
  height: 170px; /* unified height */
  background: #0b2033;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}
.card-image-wrap img,
.player-image img { width:100%; height:100%; object-fit:cover; display:block; }

/* small symbol badge */
.player-symbol,
.symbol-badge {
  position:absolute; left:10px; top:10px;
  background: rgba(6,20,40,0.7);
  padding:6px 8px; border-radius:8px;
  color:white; font-weight:800;
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
}

/* meta under image */
.player-meta, .card-meta {
  padding: 6px 4px 0;
  color:var(--muted-200);
  display:flex;
  flex-direction:column;
  gap:8px;
}
.player-name { font-weight:900; font-size:1rem; color:var(--muted-200); margin-bottom:4px; }

/* bars row */
.meta-row { display:flex; flex-direction:column; gap:8px; }
.hp-row, .dm-row { display:flex; align-items:center; gap:10px; }
.meta-label { width:36px; color: rgba(255,255,255,0.75); font-weight:700; font-size:0.9rem; }

/* bars */
.bar { flex:1; height:10px; background: rgba(255,255,255,0.03); border-radius:8px; overflow:hidden; position:relative; }
.bar .bar-fill { height:100%; background: linear-gradient(90deg,#0bb395,#0b9f84); border-radius:8px; }
.dmg-bar .bar-fill { background: linear-gradient(90deg,#ff8a4d,#ff6a3a); }
.meta-value { width:34px; text-align:right; color: rgba(255,255,255,0.9); font-weight:800; font-size:0.95rem; }

/* VS circle */
.vs-row { width:100%; display:flex; justify-content:center; align-items:center; margin: 6px 0; }
.vs-circle {
  width:72px; height:72px; border-radius:50%;
  background: linear-gradient(180deg,#0b8b7a,#0c6f5e);
  display:flex; align-items:center; justify-content:center; color:white; font-weight:800;
  box-shadow: 0 10px 26px rgba(0,0,0,0.45);
  flex-shrink:0;
}

/* Players stack: horizontal on wide screens, wrap on narrow */
.players-row { width:100%; display:flex; justify-content:center; }
.players-stack {
  display:flex;
  gap: 18px;
  justify-content:center;
  align-items:flex-start;
  padding: 6px 4px;
  flex-wrap: wrap;
  box-sizing: border-box;
}

/* player card */
.player-card {
  flex: 0 0 180px;
  min-width: 160px;
  background: linear-gradient(180deg,#071a33,#051226);
  border-radius: 12px;
  padding: 12px;
  box-shadow: 0 8px 26px rgba(0,0,0,0.45);
  border: 1px solid rgba(255,255,255,0.03);
  display:flex;
  flex-direction:column;
  gap:10px;
  align-items:stretch;
  box-sizing:border-box;
}

/* responsive tweaks */
@media (min-width: 1200px) {
  .arena-container { max-width: 1200px; padding: 28px 12px; }
  .boss-as-player { flex: 0 0 380px; }
  .player-card { flex: 0 0 180px; }
}

@media (max-width: 1100px) {
  .arena-container { max-width: 920px; padding: 18px; }
  .card-image-wrap, .player-image { height:160px; }
  .player-card { flex: 0 0 170px; }
  .boss-as-player { flex: 0 0 320px; }
}

@media (max-width: 820px) {
  .arena-container { padding: 14px 12px; gap: 14px; }
  .arena-title-block { width:100%; justify-content:flex-start; padding-left: 6px; }
  .arena-title { font-size:1.45rem; text-align:left; }
  .arena-sub { text-align:left; font-size:0.95rem; }

  .boss-row { padding-top: 6px; }
  .boss-as-player { width: 100%; max-width: 420px; }
  .boss-as-player { flex-direction: column; align-items:center; padding:12px; gap:10px; }
  .card-meta { align-items:center; text-align:center; }
  .card-image-wrap { width: 100%; height:140px; }

  .vs-circle { width:64px; height:64px; }
  .players-stack { gap: 12px; justify-content:center; }
  .player-card { flex: 0 0 140px; min-width: 140px; padding:10px; }
  .player-image { height:120px; }
  .player-name { font-size:0.95rem; }
  .pill { padding:6px 10px; font-size:0.9rem; }
}

@media (max-width: 420px) {
  .card-image-wrap, .player-image { height:110px; }
  .player-card { flex: 0 0 120px; min-width: 120px; padding:8px; }
  .arena-title { font-size:1.2rem; }
  .arena-sub { font-size:0.85rem; }
  .vs-circle { width:56px; height:56px; font-size:0.95rem; }
}

/* focus styles */
.arena-pause-toggle:focus { outline: 2px solid rgba(11,183,149,0.25); outline-offset:3px; }
.player-card:focus-within, .boss-as-player:focus-within { box-shadow: 0 8px 30px rgba(3,20,40,0.6); }

/* status list small pill */
.status-list {
  color: #dbeafe;
  font-size: 0.82rem;
  font-weight: 700;
}

/* tombol sederhana jika belum ada kelas .btn */
.btn {
  padding: 8px 12px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  font-weight: 800;
  background: rgba(255,255,255,0.03);
  color: white;
}
.btn.primary { background: linear-gradient(180deg,#0bb395,#0b9f84); }
.btn.ghost { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.03); }
.muted { color: rgba(255,255,255,0.45); font-style: italic; }

/* ===== Turn modal ===== */
.turn-modal {
  position: fixed;
  inset: 0;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events: none;
  z-index: 2800;
}
.turn-modal-card {
  pointer-events: auto;
  background: linear-gradient(180deg,#0b2040,#021025);
  border-radius: 12px;
  padding: 18px 22px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.6);
  border: 1px solid rgba(255,255,255,0.04);
  text-align:center;
  color: white;
  transform: scale(0.96);
  animation: turnPop 420ms ease forwards;
}
@keyframes turnPop {
  0% { opacity: 0; transform: scale(0.92); }
  60% { opacity: 1; transform: scale(1.07); }
  100% { transform: scale(1); }
}
.turn-title { font-size: 1.6rem; font-weight: 900; color: #dffcf0; }
.turn-sub { font-size: 0.95rem; color: rgba(255,255,255,0.85); margin-top: 6px; }

/* ===== small status list styling ===== */
.status-list { color: #dbeafe; font-size: 0.82rem; font-weight: 700; }

/* ===== button basics (if not present) ===== */
.btn { padding: 8px 12px; border-radius: 10px; border: none; cursor: pointer; font-weight: 800; background: rgba(255,255,255,0.03); color: white; }
.btn.primary { background: linear-gradient(180deg,#0bb395,#0b9f84); }
.btn.ghost { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.03); }

/* ===== Animations for hit / dot / heal / shield pop ===== */
@keyframes hitFlash {
  0% { box-shadow: 0 0 0 rgba(255, 80, 80, 0.0); transform: translateY(0px) scale(1); }
  30% { box-shadow: 0 6px 28px rgba(255, 60, 60, 0.25); transform: translateY(-6px) scale(1.02); }
  100% { box-shadow: none; transform: translateY(0) scale(1); }
}
@keyframes dotPulse {
  0% { box-shadow: 0 0 0 rgba(255, 180, 80, 0.0); }
  40% { box-shadow: 0 10px 30px rgba(255, 140, 60, 0.12); transform: translateY(-3px); }
  100% { box-shadow: none; transform: translateY(0); }
}
@keyframes healGlow {
  0% { box-shadow: 0 0 0 rgba(80, 220, 160, 0); }
  40% { box-shadow: 0 12px 40px rgba(80, 220, 160, 0.14); transform: translateY(-4px) scale(1.02); }
  100% { box-shadow: none; transform: translateY(0) scale(1); }
}
@keyframes shieldPop {
  0% { transform: scale(0.98); opacity: .9; }
  50% { transform: scale(1.06); opacity: 1; box-shadow: 0 12px 36px rgba(90,180,255,0.12); }
  100% { transform: scale(1); opacity: 1; }
}

/* apply classes via JS toggles: e.g. .flash-hit on card container */
.flash-hit { animation: hitFlash 600ms ease; border-color: rgba(255,80,80,0.12); }
.flash-dot { animation: dotPulse 700ms ease; border-color: rgba(255,140,60,0.12); }
.flash-heal { animation: healGlow 700ms ease; border-color: rgba(80,220,160,0.08); }
.flash-shield { animation: shieldPop 700ms ease; border-color: rgba(120,180,255,0.12); }

/* small responsive tweaks for modal and log */
@media (max-width: 840px) {
  .turn-modal-card { width: 80%; padding: 14px; }
}

/* keep combat log style consistent */
.muted { color: rgba(255,255,255,0.45); font-style: italic; }
